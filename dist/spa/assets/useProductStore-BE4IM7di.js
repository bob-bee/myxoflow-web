import{a0 as _,r as s,a as f,a1 as d}from"./index-jGYKol_K.js";import P from"./products-C7q8XhLX.js";const m=(o,u,n)=>{const a=o[u];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((l,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+u+(u.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},b=_("product",()=>{const o=s(P.products),u=s(null),n=s(null),a=s(!1),l=s(null),i=f(()=>o.value),v=f(()=>o.value.filter(t=>t.featured));return{products:o,currentProduct:u,currentDetails:n,isLoading:a,error:l,allProducts:i,featuredProducts:v,getProductByKey:t=>{const e=o.value.find(c=>c.key===t);return e&&(u.value=e),e},loadProductDetails:async t=>{a.value=!0,l.value=null;try{const e=await m(Object.assign({"../data/products/cheddar.json":()=>d(()=>import("./cheddar-G0n_2SdE.js"),[]),"../data/products/kitchenos.json":()=>d(()=>import("./kitchenos-BCApz-Kg.js"),[]),"../data/products/myxofill.json":()=>d(()=>import("./myxofill-B-T9dkWE.js"),[]),"../data/products/products.json":()=>d(()=>import("./products-C7q8XhLX.js"),[])}),`../data/products/${t}.json`,4);return n.value=e.default,n.value}catch(e){return l.value=`Failed to load detailed information for ${t}`,console.error("Product details load error:",e),n.value=null,null}finally{a.value=!1}},getRelatedProducts:(t,e=3)=>{const c=o.value.find(r=>r.key===t);return c?o.value.filter(r=>r.key!==t).map(r=>({product:r,score:r.tags.filter(p=>c.tags.includes(p)).length})).sort((r,p)=>p.score-r.score).slice(0,e).map(r=>r.product):[]},setCurrentProduct:t=>{u.value=t},getProductsByTag:t=>o.value.filter(e=>e.tags.includes(t)),clearCurrentProduct:()=>{u.value=null}}});export{b as u};
